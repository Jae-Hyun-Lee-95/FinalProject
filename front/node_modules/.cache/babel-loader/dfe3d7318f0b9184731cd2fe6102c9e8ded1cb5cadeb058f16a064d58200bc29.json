{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ICT03_01\\\\Documents\\\\FinalProject\\\\front\\\\src\\\\views\\\\login\\\\Login.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport \"./Login.css\";\nimport axiosInstance from './axiosInstance';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login({\n  onLoginSuccess\n}) {\n  _s();\n  const [userId, setUserId] = useState('');\n  const [userPass, setUserPass] = useState('');\n  const navigate = useNavigate();\n  const handleLogin = async event => {\n    event.preventDefault();\n    try {\n      // 로그인 요청을 서버에 보내는 POST 요청\n      const response = await axiosInstance.post('/login', {\n        userId: userId,\n        userPass: userPass\n      });\n\n      // 액세스 토큰을 로컬 스토리지에 저장\n      localStorage.setItem('token', response.data.token);\n\n      // 리프레시 토큰을 HttpOnly 쿠키로 저장\n      //document.cookie = `refreshToken=${response.data.refreshToken}; HttpOnly; Path=/`;\n\n      // 로그인 성공 시 로그인 상태 업데이트\n      // onLoginSuccess 호출하여 userNickname 전달\n      onLoginSuccess(response.data.userNickname);\n\n      // 메인 페이지로 이동\n      navigate('/MainPage');\n    } catch (error) {\n      var _error$response;\n      console.error('Error during login:', error);\n      alert('로그인 실패 ' + ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || 'An error occurred');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uC544\\uC774\\uB514\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: userId,\n            onChange: e => setUserId(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uBE44\\uBC00\\uBC88\\uD638 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: userPass,\n            onChange: e => setUserPass(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"link-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/Join\",\n            children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this), \"|\", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: \"\\uC544\\uC774\\uB514 \\uCC3E\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this), \"|\", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uC7AC\\uC124\\uC815\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"login-button\",\n          children: \"\\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"kakao-login\",\n          children: \"\\uCE74\\uCE74\\uC624 \\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"google-login\",\n          children: \"\\uAD6C\\uAE00 \\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"dhCzHmcZDcpu/2etF+gg/abjwqI=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useEffect","useState","useNavigate","Link","axiosInstance","jsxDEV","_jsxDEV","Login","onLoginSuccess","_s","userId","setUserId","userPass","setUserPass","navigate","handleLogin","event","preventDefault","response","post","localStorage","setItem","data","token","userNickname","error","_error$response","console","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","e","target","required","href","_c","$RefreshReg$"],"sources":["C:/Users/ICT03_01/Documents/FinalProject/front/src/views/login/Login.js"],"sourcesContent":["import { useEffect,useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport \"./Login.css\"\r\nimport axiosInstance from './axiosInstance';\r\n\r\n\r\n\r\nfunction Login({ onLoginSuccess }) {\r\n    const [userId, setUserId] = useState('');\r\n    const [userPass, setUserPass] = useState('');\r\n    const navigate = useNavigate();\r\n  \r\n    const handleLogin = async (event) => {\r\n        event.preventDefault();\r\n\r\n        try {\r\n            // 로그인 요청을 서버에 보내는 POST 요청\r\n            const response = await axiosInstance.post('/login', {\r\n                userId: userId,\r\n                userPass: userPass\r\n            });\r\n\r\n            // 액세스 토큰을 로컬 스토리지에 저장\r\n            localStorage.setItem('token', response.data.token);\r\n\r\n           \r\n\r\n            // 리프레시 토큰을 HttpOnly 쿠키로 저장\r\n            //document.cookie = `refreshToken=${response.data.refreshToken}; HttpOnly; Path=/`;\r\n\r\n            // 로그인 성공 시 로그인 상태 업데이트\r\n            // onLoginSuccess 호출하여 userNickname 전달\r\n            onLoginSuccess(response.data.userNickname);\r\n\r\n            // 메인 페이지로 이동\r\n            navigate('/MainPage');  \r\n        } catch (error) {\r\n            console.error('Error during login:', error);\r\n            alert('로그인 실패 ' + error.response?.data || 'An error occurred');\r\n            \r\n        }\r\n    };\r\n  \r\n    return (\r\n        <div className=\"login-container\">\r\n            <div className=\"login-box\">\r\n                <h2>로그인</h2>\r\n                <form onSubmit={handleLogin}>\r\n                <div className=\"input-container\">                    \r\n                    <p>아이디</p>                    \r\n                    <input type=\"text\" value={userId} onChange={(e) => setUserId(e.target.value)} required />                    \r\n                </div>\r\n                <div className=\"input-container\">                    \r\n                    <p>비밀번호 </p>                   \r\n                    <input type=\"password\" value={userPass} onChange={(e) => setUserPass(e.target.value)} required />\r\n                </div>  \r\n                <div className=\"link-container\">\r\n                    <a href=\"/Join\">회원가입</a>\r\n                    |\r\n                    <a href=\"#\">아이디 찾기</a>\r\n                    |\r\n                    <a href=\"#\">비밀번호 재설정</a>\r\n                </div>\r\n                    <button type=\"submit\" className=\"login-button\">로그인</button>\r\n                    <hr/>\r\n                    <hr/>\r\n                    <button type=\"button\" className=\"kakao-login\">카카오 로그인</button>\r\n                    <button type=\"button\" className=\"google-login\">구글 로그인</button>\r\n               \r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n  }\r\n  \r\n  export default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}