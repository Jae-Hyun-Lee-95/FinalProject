{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ICT03_01\\\\Documents\\\\FinalProject\\\\front\\\\src\\\\views\\\\chat\\\\components\\\\MessageContainer\\\\MessageContainer.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from \"react\";\nimport \"./MessageContainer.css\";\nimport { Container } from \"@mui/system\";\nimport RoomListContext from \"../../contexts/RoomListContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageContainer = ({\n  messageList,\n  user\n}) => {\n  _s();\n  const value = useContext(RoomListContext);\n\n  // 채팅 방 입장 시간 저장 변수\n  const [preDate, setPreDate] = useState(null);\n\n  // 처음 한번 채팅방 입장 시간 변수에 넣기\n  useEffect(() => {\n    // setPreDate(messageList[messageList.length-1].timestamp);\n    setPreDate(new Date());\n    console.log(value.state.rooms._id);\n    console.log(value.state.user.room);\n    console.log(messageList[\"room\"]);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: messageList.map((message, index) => {\n      let isSystemTime = new Date(preDate).getDate() !== new Date(message.createdAt).getDate();\n      return /*#__PURE__*/_jsxDEV(Container, {\n        className: \"message-container\",\n        children: [isSystemTime && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"system-message-container\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"system-message\",\n            children: new Date(preDate).toLocaleDateString('kr-US', {\n              year: 'numeric',\n              month: 'long',\n              // \"long\" for full month name\n              day: 'numeric',\n              hour: 'numeric',\n              minute: 'numeric',\n              hour12: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 29\n        }, this), message.user.name === \"system\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"system-message-container\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"system-message\",\n            children: message.chat\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 29\n        }, this) : message.user.name === user.name ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-message-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-time\",\n            children: new Date(message.createdAt).toLocaleString('en-US', {\n              hour: 'numeric',\n              minute: 'numeric',\n              hour12: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"my-message\",\n            children: message.chat\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"your-message-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-image\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/profile.jpeg\",\n              className: \"profile-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-label\",\n              children: message.user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"your-message\",\n              children: message.chat\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-time\",\n            children: new Date(message.createdAt).toLocaleString('en-US', {\n              hour: 'numeric',\n              minute: 'numeric',\n              hour12: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 29\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 21\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 9\n  }, this);\n};\n_s(MessageContainer, \"UNfyhhGUxo6YfWMw5i/eUhR8ziM=\");\n_c = MessageContainer;\nexport default MessageContainer;\nvar _c;\n$RefreshReg$(_c, \"MessageContainer\");","map":{"version":3,"names":["React","useEffect","useState","useContext","Container","RoomListContext","jsxDEV","_jsxDEV","MessageContainer","messageList","user","_s","value","preDate","setPreDate","Date","console","log","state","rooms","_id","room","children","map","message","index","isSystemTime","getDate","createdAt","className","toLocaleDateString","year","month","day","hour","minute","hour12","fileName","_jsxFileName","lineNumber","columnNumber","name","chat","toLocaleString","src","_c","$RefreshReg$"],"sources":["C:/Users/ICT03_01/Documents/FinalProject/front/src/views/chat/components/MessageContainer/MessageContainer.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport \"./MessageContainer.css\";\r\nimport { Container } from \"@mui/system\";\r\nimport RoomListContext from \"../../contexts/RoomListContext\";\r\n\r\nconst MessageContainer = ({ messageList, user }) => {\r\n    const value = useContext(RoomListContext);\r\n\r\n    // 채팅 방 입장 시간 저장 변수\r\n    const [preDate, setPreDate] = useState(null);\r\n\r\n    // 처음 한번 채팅방 입장 시간 변수에 넣기\r\n    useEffect(() => {\r\n        // setPreDate(messageList[messageList.length-1].timestamp);\r\n        setPreDate(new Date());\r\n        console.log(value.state.rooms._id);\r\n        console.log(value.state.user.room);\r\n        console.log(messageList[\"room\"]);\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            {messageList.map((message, index) => {\r\n                let isSystemTime = new Date(preDate).getDate() !== new Date(message.createdAt).getDate();\r\n                return (\r\n                    <Container key={index} className=\"message-container\">\r\n                        {/* 날짜가 바뀌면 시스템 메시지로 날짜를 표시 */}\r\n                        {isSystemTime && (\r\n                            <div className=\"system-message-container\">\r\n                                <p className=\"system-message\">\r\n                                    {new Date(preDate).toLocaleDateString('kr-US', {\r\n                                        year: 'numeric',\r\n                                        month: 'long', // \"long\" for full month name\r\n                                        day: 'numeric',\r\n                                        hour: 'numeric',\r\n                                        minute: 'numeric',\r\n                                        hour12: true\r\n                                    })}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n                        {message.user.name === \"system\" ? (\r\n                            <div className=\"system-message-container\">\r\n                                <p className=\"system-message\">{message.chat}</p>\r\n                            </div>\r\n                        ) : message.user.name === user.name ? (\r\n                            <div className=\"my-message-container\">\r\n                                <div className=\"message-time\">{new Date(message.createdAt).toLocaleString('en-US', {\r\n                                    hour: 'numeric',\r\n                                    minute: 'numeric',\r\n                                    hour12: true\r\n                                })}</div>\r\n                                <div className=\"my-message\">\r\n                                    {message.chat}\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"your-message-container\">\r\n                                <div className=\"profile-image\">\r\n                                    <img src=\"/profile.jpeg\" className=\"profile-image\" />\r\n                                </div>\r\n                                <div className=\"message-content\">\r\n                                    <div className=\"message-label\">{message.user.name}</div>\r\n                                    <div className=\"your-message\">{message.chat}</div>\r\n                                </div>\r\n                                <div className=\"message-time\">{new Date(message.createdAt).toLocaleString('en-US', {\r\n                                    hour: 'numeric',\r\n                                    minute: 'numeric',\r\n                                    hour12: true\r\n                                })}</div>\r\n                            </div>\r\n                        )}\r\n                    </Container>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MessageContainer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}